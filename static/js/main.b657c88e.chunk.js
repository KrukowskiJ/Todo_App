(this.webpackJsonptodo_list_react=this.webpackJsonptodo_list_react||[]).push([[0],{49:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var o=c(13),n=c.n(o),s=c(38),i=c.n(s),a=c(15),l=(c(49),c(29));c(57),c(52),c(58);l.a.initializeApp({apiKey:"AIzaSyCzThX_ZWlBgZOzCzgY0mDNH8lZ6tnd05k",authDomain:"todo-list-91421.firebaseapp.com",projectId:"todo-list-91421",storageBucket:"todo-list-91421.appspot.com",messagingSenderId:"750356644344",appId:"1:750356644344:web:c64e71cc0ffba3f9cf960d"});var r=l.a.auth(),d=l.a.firestore(),j=l.a,u=c(39),b=c(12);var m=function(e){var t=Object(o.useState)(e.edit?e.edit.value:""),c=Object(a.a)(t,2),n=c[0],s=c[1],i=d.collection("users/".concat(r.currentUser.uid,"/todos")),l=Object(o.useRef)(null);Object(u.useMediaQuery)({query:"(max-width: 768px)"}),Object(o.useEffect)((function(){}));var m=function(e){s(e.target.value)},O=function(e){e.preventDefault(),n&&!/^\s*$/.test(n)&&(i.add({text:n,complete:!1,createdAt:j.firestore.FieldValue.serverTimestamp()}),s(""))};return Object(b.jsx)("form",{onSubmit:O,className:"todo-form",children:e.edit?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{placeholder:"Update your item",value:n,onChange:m,name:"text",ref:l,className:"todo-input edit"}),Object(b.jsx)("button",{onClick:function(t){t.preventDefault(),n&&!/^\s*$/.test(n)&&(i.doc(e.edit.id).delete(),i.add({text:n,complete:!1,createdAt:j.firestore.FieldValue.serverTimestamp()}),e.onSubmit({edit:!1}),s(""))},className:"todo-button edit",children:"Update"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{placeholder:"Add a todo",value:n,onChange:m,name:"text",className:"todo-input",ref:l}),Object(b.jsx)("button",{onClick:O,className:"todo-button",children:"Add todo"})]})})},O=c(41),h=c(42),p=c(27),x=c(40),v=function(e){var t=e.completeTodo,c=e.removeTodo,n=d.collection("users/".concat(r.currentUser.uid,"/todos")),s=Object(p.a)(n,{idField:"id"}),i=Object(a.a)(s,1)[0],l=Object(o.useState)({id:null,value:""}),j=Object(a.a)(l,2),u=j[0],v=j[1];return u.id?Object(b.jsx)(m,{edit:u,onSubmit:function(){v({id:null,value:""})}}):i?Object(b.jsx)("div",{className:"todo-list",children:i.map((function(e){return Object(b.jsxs)("div",{className:e.complete?"todo-row completerow":"todo-row",children:[Object(b.jsxs)("div",{className:e.complete?"todo-name ":"todo-name",onClick:function(){return t(e.id)},children:[Object(b.jsxs)("div",{className:e.complete?"complete":null,children:[e.text,"   "]}),Object(b.jsx)("div",{className:"done",children:e.complete?Object(b.jsx)(x.a,{className:"done-icon"}):null})]},e.id),Object(b.jsxs)("div",{className:"icons",children:[Object(b.jsx)(O.a,{onClick:function(){return c(e.id)},className:"delete-icon"}),Object(b.jsx)(h.a,{onClick:function(){return v({id:e.id,value:e.text})},className:"edit-icon"})]})]})}))}):null};c(55);var f=function(e){var t=d.collection("users/".concat(r.currentUser.uid,"/todos")),c=Object(p.a)(t,{idField:"id"}),o=Object(a.a)(c,1)[0],n=0,s=0;return Object(b.jsxs)("div",{className:"container",children:[(o&&o.map((function(e){e.complete&&n++})),void(s=o?Math.round(n/o.length*1e4/100):0)),Object(b.jsx)("h1",{children:"Your progress bar!"}),Object(b.jsxs)("div",{className:"progressbar-container",children:[Object(b.jsx)("div",{className:"progressbar-complete",style:{width:"".concat(s,"%")},children:Object(b.jsx)("div",{className:"progressbar-liquid"})}),Object(b.jsxs)("span",{className:"progress",children:[o&&s?s:0," %"]})]})]})};var g=function(){var e=d.collection("users/".concat(r.currentUser.uid,"/todos")),t=Object(p.a)(e,{idField:"id"}),c=Object(a.a)(t,1)[0];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"What's the plan for Today?"}),Object(b.jsx)(m,{}),Object(b.jsx)(v,{completeTodo:function(t){c.map((function(c){c.id===t&&e.doc(c.id).set({complete:!c.complete},{merge:!0})}))},removeTodo:function(t){e.doc(t).set({merge:!0}),e.doc(t).delete()}}),Object(b.jsx)(f,{})]})},N=c(43),k=c(37),C=c(0),F=c(44),S=function(){return r.signInWithPopup(new j.auth.GoogleAuthProvider).then((function(e){console.log(e.user._delegate.displayName),console.log(e.user._delegate.email)})).catch((function(e){console.log(e)}))},y=function(){return r.signInWithPopup(new j.auth.FacebookAuthProvider).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},w=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"loginbox",children:[Object(b.jsxs)("div",{className:"loginbt",onClick:S,children:["Sign In With Google",Object(b.jsx)(C.b.Provider,{value:{size:"3em"},children:Object(b.jsx)(k.b,{})})]}),Object(b.jsxs)("div",{className:"loginbt",onClick:y,children:["Sign In With Facebook",Object(b.jsx)(C.b.Provider,{value:{size:"3em"},children:Object(b.jsx)(k.a,{})})]})]})})},z=function(){return r.signOut()};var I=function(){var e=Object(N.a)(r),t=Object(a.a)(e,1)[0];return t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"main-component",children:[Object(b.jsxs)("div",{className:"user-info",children:[Object(b.jsx)(C.b.Provider,{value:{size:"1.4em"},children:Object(b.jsx)(F.a,{})}),Object(b.jsxs)("div",{className:"user-info column",children:[Object(b.jsx)("p",{children:t._delegate.displayName}),Object(b.jsx)("p",{style:{fontSize:"0.6em"},children:t._delegate.email})]})]}),Object(b.jsx)("div",{className:"todo-app",children:Object(b.jsx)(g,{})})]}),Object(b.jsx)("div",{class:"logoutbox",children:Object(b.jsx)("div",{class:"logoutbt",onClick:z,children:"Sign Out"})})]}):Object(b.jsx)(w,{})};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.b657c88e.chunk.js.map