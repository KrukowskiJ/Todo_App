(this.webpackJsonptodo_list_react=this.webpackJsonptodo_list_react||[]).push([[0],{46:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var o=c(13),n=c.n(o),s=c(37),i=c.n(s),a=c(15),r=(c(46),c(29));c(54),c(49),c(55);r.a.initializeApp({apiKey:"AIzaSyCzThX_ZWlBgZOzCzgY0mDNH8lZ6tnd05k",authDomain:"todo-list-91421.firebaseapp.com",projectId:"todo-list-91421",storageBucket:"todo-list-91421.appspot.com",messagingSenderId:"750356644344",appId:"1:750356644344:web:c64e71cc0ffba3f9cf960d"});var d=r.a.auth(),l=r.a.firestore(),u=r.a,j=c(12);var b=function(e){var t=Object(o.useState)(e.edit?e.edit.value:""),c=Object(a.a)(t,2),n=c[0],s=c[1],i=l.collection("users/".concat(d.currentUser.uid,"/todos")),r=Object(o.useRef)(null);Object(o.useEffect)((function(){r.current.focus()}));var b=function(e){s(e.target.value)},m=function(e){e.preventDefault(),n&&!/^\s*$/.test(n)&&(i.add({text:n,complete:!1,createdAt:u.firestore.FieldValue.serverTimestamp()}),s(""))};return Object(j.jsx)("form",{onSubmit:m,className:"todo-form",children:e.edit?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{placeholder:"Update your item",value:n,onChange:b,name:"text",ref:r,className:"todo-input edit"}),Object(j.jsx)("button",{onClick:function(t){t.preventDefault(),n&&!/^\s*$/.test(n)&&(i.doc(e.edit.id).delete(),i.add({text:n,complete:!1,createdAt:u.firestore.FieldValue.serverTimestamp()}),e.onSubmit({edit:!1}),s(""))},className:"todo-button edit",children:"Update"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{placeholder:"Add a todo",value:n,onChange:b,name:"text",className:"todo-input",ref:r}),Object(j.jsx)("button",{onClick:m,className:"todo-button",children:"Add todo"})]})})},m=c(39),p=c(40),O=c(27),h=c(38),x=function(e){var t=e.completeTodo,c=e.removeTodo,n=l.collection("users/".concat(d.currentUser.uid,"/todos")),s=Object(O.a)(n,{idField:"id"}),i=Object(a.a)(s,1)[0],r=Object(o.useState)({id:null,value:""}),u=Object(a.a)(r,2),x=u[0],f=u[1];return x.id?Object(j.jsx)(b,{edit:x,onSubmit:function(){f({id:null,value:""})}}):i?Object(j.jsx)("div",{className:"todo-list",children:i.map((function(e){return Object(j.jsxs)("div",{className:e.complete?"todo-row completerow":"todo-row",children:[Object(j.jsxs)("div",{className:e.complete?"todo-name ":"todo-name",onClick:function(){return t(e.id)},children:[Object(j.jsxs)("div",{className:e.complete?"complete":null,children:[e.text,"   "]}),Object(j.jsx)("div",{className:"done",children:e.complete?Object(j.jsx)(h.a,{className:"done-icon"}):null})]},e.id),Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)(m.a,{onClick:function(){return c(e.id)},className:"delete-icon"}),Object(j.jsx)(p.a,{onClick:function(){return f({id:e.id,value:e.text})},className:"edit-icon"})]})]})}))}):null};c(52);var f=function(e){var t=l.collection("users/".concat(d.currentUser.uid,"/todos")),c=Object(O.a)(t,{idField:"id"}),o=Object(a.a)(c,1)[0],n=0,s=0;return Object(j.jsxs)("div",{className:"container",children:[(o&&o.map((function(e){e.complete&&n++})),void(s=o?Math.round(n/o.length*1e4/100):0)),Object(j.jsx)("h1",{children:"Your progress bar!"}),Object(j.jsxs)("div",{className:"progressbar-container",children:[Object(j.jsx)("div",{className:"progressbar-complete",style:{width:"".concat(s,"%")},children:Object(j.jsx)("div",{className:"progressbar-liquid"})}),Object(j.jsxs)("span",{className:"progress",children:[o&&s?s:0," %"]})]})]})};var v=function(){var e=l.collection("users/".concat(d.currentUser.uid,"/todos")),t=Object(O.a)(e,{idField:"id"}),c=Object(a.a)(t,1)[0];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"What's the plan for Today?"}),Object(j.jsx)(b,{}),Object(j.jsx)(x,{completeTodo:function(t){c.map((function(c){c.id===t&&e.doc(c.id).set({complete:!c.complete},{merge:!0})}))},removeTodo:function(t){e.doc(t).delete()}}),Object(j.jsx)(f,{})]})},g=c(41),N=function(){return d.signInWithPopup(new u.auth.GoogleAuthProvider)},k=function(){return Object(j.jsx)("div",{class:"loginbox",children:Object(j.jsx)("div",{class:"loginbt",onClick:N,children:"Sign In With Google"})})},C=function(){return d.signOut()};var S=function(){var e=Object(g.a)(d);return Object(a.a)(e,1)[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"main-component",children:Object(j.jsx)("div",{className:"todo-app",children:Object(j.jsx)(v,{})})}),Object(j.jsx)("div",{class:"logoutbox",children:Object(j.jsx)("div",{class:"logoutbt",onClick:C,children:"Sign Out"})})]}):Object(j.jsx)(k,{})};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f3ff9b06.chunk.js.map