(this.webpackJsonptodo_list_react=this.webpackJsonptodo_list_react||[]).push([[0],{45:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(13),o=c.n(n),i=c(37),s=c.n(i),a=c(15),r=(c(45),c(29));c(53),c(48),c(54);r.a.initializeApp({apiKey:"AIzaSyCzThX_ZWlBgZOzCzgY0mDNH8lZ6tnd05k",authDomain:"todo-list-91421.firebaseapp.com",projectId:"todo-list-91421",storageBucket:"todo-list-91421.appspot.com",messagingSenderId:"750356644344",appId:"1:750356644344:web:c64e71cc0ffba3f9cf960d"});var d=r.a.auth(),l=r.a.firestore(),u=r.a,j=c(12);var b=function(e){var t=Object(n.useState)(e.edit?e.edit.value:""),c=Object(a.a)(t,2),o=c[0],i=c[1],s=l.collection("users/".concat(d.currentUser.uid,"/todos")),r=Object(n.useRef)(null);Object(n.useEffect)((function(){r.current.focus()}));var b=function(e){i(e.target.value)},m=function(e){e.preventDefault(),o&&!/^\s*$/.test(o)&&(s.add({text:o,complete:!1,createdAt:u.firestore.FieldValue.serverTimestamp()}),i(""))};return Object(j.jsx)("form",{onSubmit:m,className:"todo-form",children:e.edit?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{placeholder:"Update your item",value:o,onChange:b,name:"text",ref:r,className:"todo-input edit"}),Object(j.jsx)("button",{onClick:function(t){t.preventDefault(),o&&!/^\s*$/.test(o)&&(s.doc(e.edit.id).delete(),s.add({text:o,complete:!1,createdAt:u.firestore.FieldValue.serverTimestamp()}),e.onSubmit({edit:!1}),i(""))},className:"todo-button edit",children:"Update"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{placeholder:"Add a todo",value:o,onChange:b,name:"text",className:"todo-input",ref:r}),Object(j.jsx)("button",{onClick:m,className:"todo-button",children:"Add todo"})]})})},m=c(38),p=c(39),O=c(27),f=function(e){var t=e.completeTodo,c=e.removeTodo,o=l.collection("users/".concat(d.currentUser.uid,"/todos")),i=Object(O.a)(o,{idField:"id"}),s=Object(a.a)(i,1)[0],r=Object(n.useState)({id:null,value:""}),u=Object(a.a)(r,2),f=u[0],h=u[1];return f.id?Object(j.jsx)(b,{edit:f,onSubmit:function(){h({id:null,value:""})}}):s?Object(j.jsx)("div",{className:"todo-list",children:s.map((function(e){return Object(j.jsxs)("div",{className:e.complete?"todo-row complete":"todo-row",children:[Object(j.jsx)("div",{className:"todo-name",onClick:function(){return t(e.id)},children:e.text},e.id),Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)(m.a,{onClick:function(){return c(e.id)},className:"delete-icon"}),Object(j.jsx)(p.a,{onClick:function(){return h({id:e.id,value:e.text})},className:"edit-icon"})]})]})}))}):null};c(51);var h=function(e){var t=l.collection("users/".concat(d.currentUser.uid,"/todos")),c=Object(O.a)(t,{idField:"id"}),n=Object(a.a)(c,1)[0],o=0,i=0;return Object(j.jsxs)("div",{className:"container",children:[(n&&n.map((function(e){e.complete&&o++})),void(i=n?Math.round(o/n.length*1e4/100):0)),Object(j.jsx)("h1",{children:"Your progress bar!"}),Object(j.jsxs)("div",{className:"progressbar-container",children:[Object(j.jsx)("div",{className:"progressbar-complete",style:{width:"".concat(i,"%")},children:Object(j.jsx)("div",{className:"progressbar-liquid"})}),Object(j.jsxs)("span",{className:"progress",children:[n?i:0," %"]})]})]})};var x=function(){var e=l.collection("users/".concat(d.currentUser.uid,"/todos")),t=Object(O.a)(e,{idField:"id"}),c=Object(a.a)(t,1)[0];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"What's the plan for Today?"}),Object(j.jsx)(b,{}),Object(j.jsx)(f,{completeTodo:function(t){c.map((function(c){c.id===t&&e.doc(c.id).set({complete:!c.complete},{merge:!0})}))},removeTodo:function(t){e.doc(t).delete()}}),Object(j.jsx)(h,{})]})},v=c(40),g=function(){return d.signInWithPopup(new u.auth.GoogleAuthProvider)},N=function(){return Object(j.jsx)("main",{children:Object(j.jsx)("button",{onClick:g,children:"Sign In With Google"})})},k=function(){return d.signOut()};var C=function(){var e=Object(v.a)(d);return Object(a.a)(e,1)[0]?Object(j.jsxs)("div",{className:"main-component",children:[Object(j.jsx)("div",{className:"todo-app",children:Object(j.jsx)(x,{})}),Object(j.jsx)("button",{onClick:k,children:"Sign Out"})]}):Object(j.jsx)(N,{})};s.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.3656a4f6.chunk.js.map