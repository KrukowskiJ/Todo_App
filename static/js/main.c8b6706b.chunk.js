(this.webpackJsonptodo_list_react=this.webpackJsonptodo_list_react||[]).push([[0],{47:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var o=c(13),n=c.n(o),i=c(37),s=c.n(i),a=c(15),r=(c(47),c(29));c(55),c(50),c(56);r.a.initializeApp({apiKey:"AIzaSyCzThX_ZWlBgZOzCzgY0mDNH8lZ6tnd05k",authDomain:"todo-list-91421.firebaseapp.com",projectId:"todo-list-91421",storageBucket:"todo-list-91421.appspot.com",messagingSenderId:"750356644344",appId:"1:750356644344:web:c64e71cc0ffba3f9cf960d"});var d=r.a.auth(),l=r.a.firestore(),u=r.a,j=c(38),b=c(12);var m=function(e){var t=Object(o.useState)(e.edit?e.edit.value:""),c=Object(a.a)(t,2),n=c[0],i=c[1],s=l.collection("users/".concat(d.currentUser.uid,"/todos")),r=Object(o.useRef)(null);Object(j.useMediaQuery)({query:"(max-width: 768px)"}),Object(o.useEffect)((function(){}));var m=function(e){i(e.target.value)},p=function(e){e.preventDefault(),n&&!/^\s*$/.test(n)&&(s.add({text:n,complete:!1,createdAt:u.firestore.FieldValue.serverTimestamp()}),i(""))};return Object(b.jsx)("form",{onSubmit:p,className:"todo-form",children:e.edit?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{placeholder:"Update your item",value:n,onChange:m,name:"text",ref:r,className:"todo-input edit"}),Object(b.jsx)("button",{onClick:function(t){t.preventDefault(),n&&!/^\s*$/.test(n)&&(s.doc(e.edit.id).delete(),s.add({text:n,complete:!1,createdAt:u.firestore.FieldValue.serverTimestamp()}),e.onSubmit({edit:!1}),i(""))},className:"todo-button edit",children:"Update"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{placeholder:"Add a todo",value:n,onChange:m,name:"text",className:"todo-input",ref:r}),Object(b.jsx)("button",{onClick:p,className:"todo-button",children:"Add todo"})]})})},p=c(40),O=c(41),h=c(27),x=c(39),v=function(e){var t=e.completeTodo,c=e.removeTodo,n=l.collection("users/".concat(d.currentUser.uid,"/todos")),i=Object(h.a)(n,{idField:"id"}),s=Object(a.a)(i,1)[0],r=Object(o.useState)({id:null,value:""}),u=Object(a.a)(r,2),j=u[0],v=u[1];return j.id?Object(b.jsx)(m,{edit:j,onSubmit:function(){v({id:null,value:""})}}):s?Object(b.jsx)("div",{className:"todo-list",children:s.map((function(e){return Object(b.jsxs)("div",{className:e.complete?"todo-row completerow":"todo-row",children:[Object(b.jsxs)("div",{className:e.complete?"todo-name ":"todo-name",onClick:function(){return t(e.id)},children:[Object(b.jsxs)("div",{className:e.complete?"complete":null,children:[e.text,"   "]}),Object(b.jsx)("div",{className:"done",children:e.complete?Object(b.jsx)(x.a,{className:"done-icon"}):null})]},e.id),Object(b.jsxs)("div",{className:"icons",children:[Object(b.jsx)(p.a,{onClick:function(){return c(e.id)},className:"delete-icon"}),Object(b.jsx)(O.a,{onClick:function(){return v({id:e.id,value:e.text})},className:"edit-icon"})]})]})}))}):null};c(53);var f=function(e){var t=l.collection("users/".concat(d.currentUser.uid,"/todos")),c=Object(h.a)(t,{idField:"id"}),o=Object(a.a)(c,1)[0],n=0,i=0;return Object(b.jsxs)("div",{className:"container",children:[(o&&o.map((function(e){e.complete&&n++})),void(i=o?Math.round(n/o.length*1e4/100):0)),Object(b.jsx)("h1",{children:"Your progress bar!"}),Object(b.jsxs)("div",{className:"progressbar-container",children:[Object(b.jsx)("div",{className:"progressbar-complete",style:{width:"".concat(i,"%")},children:Object(b.jsx)("div",{className:"progressbar-liquid"})}),Object(b.jsxs)("span",{className:"progress",children:[o&&i?i:0," %"]})]})]})};var g=function(){var e=l.collection("users/".concat(d.currentUser.uid,"/todos")),t=Object(h.a)(e,{idField:"id"}),c=Object(a.a)(t,1)[0];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{children:"What's the plan for Today?"}),Object(b.jsx)(m,{}),Object(b.jsx)(v,{completeTodo:function(t){c.map((function(c){c.id===t&&e.doc(c.id).set({complete:!c.complete},{merge:!0})}))},removeTodo:function(t){e.doc(t).set({merge:!0}),e.doc(t).delete()}}),Object(b.jsx)(f,{})]})},N=c(42),k=function(){return d.signInWithPopup(new u.auth.GoogleAuthProvider)},C=function(){return d.signInWithPopup(new u.auth.FacebookAuthProvider)},F=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{class:"loginbox",children:Object(b.jsx)("div",{class:"loginbt",onClick:k,children:"Sign In With Google"})}),Object(b.jsx)("div",{class:"loginbox2",children:Object(b.jsx)("div",{class:"loginbt",onClick:C,children:"Sign In With Facebook"})})]})},S=function(){return d.signOut()};var w=function(){var e=Object(N.a)(d);return Object(a.a)(e,1)[0]?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"main-component",children:Object(b.jsx)("div",{className:"todo-app",children:Object(b.jsx)(g,{})})}),Object(b.jsx)("div",{class:"logoutbox",children:Object(b.jsx)("div",{class:"logoutbt",onClick:S,children:"Sign Out"})})]}):Object(b.jsx)(F,{})};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.c8b6706b.chunk.js.map